% !TEX TS-program = latexmk
% !TEX options = -cd -lualatex -interaction=nonstopmode -halt-on-error

\documentclass[a4paper,12pt]{article}

\input{templates.tex}

\hypersetup{
  unicode=true,                    % 유니코드 북마크
  pdftitle={Mathematical Articles},            % PDF 메타
  pdfauthor={Taeyang Lee},
  pdfsubject={Mathematical Articles},
  pdfcreator={LuaLaTeX}
}


% ---------- [Preamble: 여기 '전에' \begin{document}가 오면 안 됨] ----------
% (pdfLaTeX 경로) kotex: 한글 + LUC 인코딩
\usepackage{kotex}

% 수학/그래픽/유틸
\usepackage{amsmath,amssymb,amsthm}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{geometry}
\geometry{margin=25mm}

% 하이퍼링크
\usepackage[unicode]{hyperref}

% TikZ는 반드시 preamble에서 로드
\usepackage{tikz}
\usetikzlibrary{positioning}

% 보기 좋은 박스 스타일(그림에서 사용)
\tikzset{
  box/.style={
    rectangle, draw, rounded corners,
    minimum width=5cm, minimum height=1cm,
    align=center, font=\small
  },
  arrow/.style={->, thick}
}



% =====================================

\title{소수는 무한하다.}
\author{Taeyang Lee}
\date{\today}

\begin{document}

\maketitle
\tableofcontents  % 목차 자동 생성
\newpage

% =====================================
\section{서론}
자명하게 생각되는 수학적 지식을 수학적 엄밀성 위에서 증명해보이는 것은 매우 의미있는 행위이다.
이번 article에서는 소수가 무한함을 보이는 여러가지 증명을 보이고 이를 통해 다양한 발상해 대해 생각해보도록 한다.

\subsection{귀류법: proof by contradiction}
여러가지 증명기법들 중 귀류법에 대해 먼저 알아보자.
영어식 표현을 해석해보면, "모순에 의한 증명"이라는 뜻인데, 어떤 명제가 참임을 보이기 위해 그것의 반대를 가정하고 모순을 이끌어내는 방식이다.


\begin{center}
\begin{tikzpicture}[
    box/.style={
    rectangle, draw, rounded corners, minimum width=5cm, 
    minimum height=1cm, align=center, font=\small
    },
    arrow/.style={->, thick}
]

\node[box, fill=blue!10] (assume) {가정: A는 예쁘지 않다};
\node[box, below=1.5cm of assume] (friends) {친구들이 모두 \\ ``A는 예쁘다''라고 말함};
\node[box, below=1.5cm of friends] (award) {사진 대회에서 \\ ``미소가 가장 예쁜 상''을 받음};
\node[box, below=1.5cm of award, fill=red!20] (contradiction) {가정과 모순 발생!};
\node[box, below=1.5cm of contradiction, fill=green!20] (conclusion) {따라서 결론: A는 예쁘다};

\draw[arrow] (assume) -- (friends);
\draw[arrow] (friends) -- (award);
\draw[arrow] (award) -- (contradiction);
\draw[arrow] (contradiction) -- (conclusion);

\end{tikzpicture}
\end{center}



\setlength{\parindent}{20pt}
    자연수 $n$에 대하여 모든 항이 양수인 수열 ${a_n}$이 
    $\sum_{k=1}^n {a_n} = \frac{1}{2} \left( {a_n} + \frac{2}{a_n} \right) $
    일때, 

    $\sum _ {k=1} ^{128} a_k$의 값을 구하여라

\subsection{풀이}

\begin{align}
    S_n &= \sum_{k=1}^n a_n \nonumber \\
        &= \frac{1}{2}\left(a_n + \frac{2}{a_n}\right)  \label{eq:S_n}\\[6pt]
    \nonumber \\
    S_{n-1} &= S_n - a_n \nonumber \\
            &= \frac{1}{2}\left(a_n + \frac{2}{a_n}\right) - a_n \nonumber \\
            &= \frac{1}{2}\left(-a_n + \frac{2}{a_n}\right) \label{eq:S_n-1}
\end{align}


% =====================================
\Cref{eq:S_n}에서 $S_n$도 $a_n$으로 표현되어 있고,

\Cref{eq:S_n-1}에서 $S_{n-1}$도 $a_n$으로 표현되어 있음을 알 수 있다.

즉, $S_n$과 $S_{n-1}$이 $a_n$을 매개로 한 관계로 연결된다.

이들을 각각 더하고 빼는 것은 $a_n$을 분모와 분자에 올려주는 역할을 하게 되는데,

이를 식으로 표현하면 아래와 같다.
% =====================================
\begin{align}
    S_n + S_{n-1} &= \frac{2}{a_n} \label{eq:sum}\\
    S_n - S_{n-1} &= a_n \label{eq:diff}
\end{align}

% =====================================
\Cref{eq:sum,eq:diff}를 서로 곱하면
% =====================================
\begin{align}
    {S_n}^2 - {S_{n-1}}^2 &= 2 \label{eq:diff_square}
\end{align}

\newpage
이때, ${S_n}^2$을 새로운 수열 ${T_n}$이라고 하면,

\begin{align}
    T_n &= {S_n}^2 \nonumber \\
    T_n &= T_{n-1} + 2 \label{eq:Tn}
\end{align}

$T_n$은 등차수열이므로,
\begin{align}
    T_n &= T_1 + (n-1) \cdot 2 \label{eq:Tn2}
\end{align}


\Cref{eq:S_n} 에서, $n=1$을 대입하면,

\begin{align}
    S_1 = a_1 &= \frac{1}{2}\left(a_1 + \frac{2}{a_1}\right) \nonumber \\
        {a_1} &= \frac{2}{a_1} \nonumber \\
        \therefore a_1 &= \sqrt{2} \label{eq:a_1}
\end{align}

$T_1 = {S_1}^2 = {a_1}^2 = 2$이므로,
\begin{align}
    T_n &= 2 + (n-1) \cdot 2 = 2n \nonumber \\
    T_n &= {S_n}^2 = 2n \nonumber \\
    \therefore \quad S_n &= \sqrt{2n} \label{eq:Sn2}
\end{align}


이때, \cref{eq:Sn2}에 $n=128$을 대입하면,
\begin{align*}
    S_{128} = \sqrt{2\times 128} =16
\end{align*}

일반항 $a_n$은 아래와 같이 구할 수 있다.
\begin{align*}
    a_n = S_n - S_{n-1} = \sqrt{2n} - \sqrt{2(n-1)}
\end{align*}

\end{document}