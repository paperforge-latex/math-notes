\documentclass[12pt,a4paper]{article}
\usepackage{kotex}            % 한글 지원
\usepackage{amsmath,amssymb}  % 수학 기호 및 수식 패키지
\usepackage{amsthm}           % 정리, 증명 환경
\usepackage{graphicx}         % 이미지 삽입
\usepackage{geometry}         % 페이지 여백 설정
\usepackage{hyperref}         % 하이퍼링크
\usepackage{color}            % 색상 지원
\usepackage{etoolbox}         % 환경 후킹을 위한 패키지
\usepackage{tikz}
\usetikzlibrary{fit,calc}

% 페이지 여백 설정
\geometry{margin=2.5cm}

% 정리, 정의, 예제 환경 설정
% \theoremstyle{definition}

\newtheoremstyle{test_form}% name
  {10pt}% Space above
  {10pt}% Space below
  {\normalfont\setlength{\parindent}{20pt}} % Body font(+ 본문 들여쓰기)
  {0em}% Indent amount
  {\bfseries}% Theorem head font
  {}% Punctuation after theorem head
  {\newline}% Space after theorem head (line break!)
  {}% Theorem head spec
\theoremstyle{test_form}
\newtheorem{problem}{문제}[section]
\newtheorem*{solution}{풀이}
\newtheorem*{answer}{정답}

% 섹션마다 문제 번호 리셋
\makeatletter
\@addtoreset{problem}{section}
\makeatother

% 문제 번호를 섹션 번호 없이 표시
\renewcommand{\theproblem}{\arabic{problem}}

% --- 자동 목차 등록 ---
\newcommand{\tocaddsolution}{%
  \phantomsection
  \addcontentsline{toc}{subsubsection}{풀이}%
}
\newcommand{\tocaddanswer}{%
  \phantomsection
  \addcontentsline{toc}{subsubsection}{정답}%
}

% problem 환경의 헤더 부분에 목차 추가
\makeatletter
\let\old@problem\problem
\renewcommand{\problem}{%
  \old@problem
  \phantomsection
  \addcontentsline{toc}{subsection}{문제 \theproblem}%
}
\makeatother

\AtBeginEnvironment{solution}{\tocaddsolution}
\AtBeginEnvironment{answer}{\tocaddanswer}

\title{KMO 대비반 중급 2주차 테스트}
\author{Taeyang Lee}
\date{\today}

\begin{document}

\maketitle
\tableofcontents  % 목차 자동 생성

\newpage

% =====================================
\section{대수}

\begin{problem}
    
    $f(x) = \dfrac{4^x}{4^x+2}$ 이라 하자. 
    합 
    $f\!\left(\dfrac{1}{801}\right) + f\!\left(\dfrac{2}{801}\right) + f\!\left(\dfrac{3}{801}\right) + \cdots + f\!\left(\dfrac{800}{801}\right)$
    의 값을 구하여라.
    \begin{flushright}(20점)\end{flushright}
    
\end{problem}

\begin{solution}
\[
f(x)=\frac{4^x}{4^x+2}.
\]
대칭성을 이용하면
\[
f(x)+f(1-x)=\frac{4^x}{4^x+2}+\frac{4^{1-x}}{4^{1-x}+2}
=\frac{4^x}{4^x+2}+\frac{2}{4^x+2}=1.
\]
따라서
\[
\sum_{k=1}^{800} f\!\left(\frac{k}{801}\right)
=\sum_{k=1}^{400}\left\{f\!\left(\frac{k}{801}\right)
+f\!\left(1-\frac{k}{801}\right)\right\}
=400.
\]
\end{solution}

\begin{answer}
\hfill \boxed{400}
\end{answer}

\newpage

\begin{problem}
다음을 정수 범위에서 최대한 인수분해하였을 때, 곱해져 있는 항의 개수를 구하여라.
\[
a^{3}(c^{2}-b^{2})+b^{3}(a^{2}-c^{2})+c^{3}(b^{2}-a^{2}).
\]
(예: \(ab(ab+bc)\)는 3개의 항이 곱해져 있는 식이다.)
\begin{flushright}(20점)\end{flushright}
\end{problem}

\begin{solution}

\setlength{\parindent}{0pt}

\textbf{[풀이 1: 교대식의 성질 이용]}

주어진 식은 교대식이다. 교대식의 성질에 의해 다음과 같이 표현할 수 있다:
\[
\text{(교대식)} = \text{(교대식)} \times \text{(대칭식)}.
\]

인수정리에 의해 \((a-b)(b-c)(c-a)\)인 교대식이 인수로 존재하므로, 나머지 부분은 2차 대칭식이어야 한다.

2차 대칭식은 기본대칭식
\[
e_1=a+b+c,\quad e_2=ab+bc+ca,\quad e_3=abc
\]
의 사칙연산으로 표현되므로, \(Ae_1^2 + Be_1e_2 + Ce_3\) 형태로 나타낼 수 있다.

계수를 비교하면 \(A=1\), \(B=1\), \(C=0\)이므로,
\[
a^3(c^2-b^2)+b^3(a^2-c^2)+c^3(b^2-a^2)
=(a-b)(b-c)(c-a)(a^2+b^2+c^2+ab+bc+ca).
\]

\textbf{[풀이 2: 직접 인수분해]}

주어진 식을 정리하면,
\[
\begin{aligned}
&a^3(c^2-b^2)+b^3(a^2-c^2)+c^3(b^2-a^2)\\
&=a^3c^2-a^3b^2+b^3a^2-b^3c^2+c^3b^2-c^3a^2\\
&=(a^3c^2-b^3c^2)+(b^3a^2-c^3a^2)+(c^3b^2-a^3b^2)\\
&=c^2(a^3-b^3)+a^2(b^3-c^3)+b^2(c^3-a^3)\\
&=c^2(a-b)(a^2+ab+b^2)+a^2(b-c)(b^2+bc+c^2)+b^2(c-a)(c^2+ca+a^2)\\
&=(a-b)(b-c)(c-a)(a^2+b^2+c^2+ab+bc+ca).
\end{aligned}
\]

따라서 곱해진 항의 개수는 \textbf{4개}이다.
\end{solution}

\begin{answer}
\hfill \boxed{4}
\end{answer}

\newpage

\begin{problem}
다음 연립방정식의 해를 \(x,y,z\)라 할 때, \(x^{4}+y^{4}+z^{4}\)의 값을 구하여라.
\[
\begin{cases}
x+y+z=4,\\[2pt]
x^{2}+y^{2}+z^{2}=14,\\[2pt]
x^{3}+y^{3}+z^{3}=34.
\end{cases}
\]
\begin{flushright}(20점)\end{flushright}
\end{problem}

\begin{solution}
    \setlength{\parindent}{0pt}
    
    세 문자 $x,y,z$에 대해 주어진 식은 \emph{대칭식}(Symmetric Polynomial)이다.  
    \\따라서 기본대칭식
    \[
    e_1 = x+y+z, \quad e_2 = xy+yz+zx, \quad e_3 = xyz
    \]
    의 값만 알면 모든 대칭식의 값을 구할 수 있다.
    \\
    문제에서 제시된 정보는 멱합(Power Sum)
    \[
    p_1 = x+y+z, \quad p_2 = x^2+y^2+z^2, \quad p_3 = x^3+y^3+z^3
    \]
    이다. 
    \\이들은 $e_1,e_2,e_3$와 \textbf{뉴턴 항등식}(Newton's Identities) 관계를 가진다:
    \begin{align}
        p_1 &= e_1 \nonumber \\
        p_2 &= e_1p_1 - 2e_2 \nonumber \\
        p_3 &= e_1p_2 - e_2p_1 + 3e_3 \nonumber
    \end{align}
    
    문제에서 $p_1=4,\;p_2=14,\;p_3=34$가 주어졌다. \\
    이를 대입하면
    \begin{align}
        e_1 &= 4 \nonumber \\
        14 &= 4\cdot4 - 2e_2 \nonumber \\
        34 &= 4\cdot14 - 1\cdot4 + 3e_3 \nonumber \\
        \therefore e_2 &= 1, \quad e_3 = -6 \nonumber
    \end{align}
    
    이제 $p_4 = x^4+y^4+z^4$를 계산한다:
    \[
    p_4 = e_1p_3 - e_2p_2 + e_3p_1
    = 4\cdot34 - 1\cdot14 + (-6)\cdot4.
    \]
    \[
    =136 - 14 - 24 = 98.
    \]    
\end{solution}
    

\begin{answer}
\hfill \boxed{98}
\end{answer}

\newpage

\begin{problem}
\(\sqrt[4]{x}+\sqrt[4]{97-x}=5\)일 때, \(\sqrt[4]{x}\cdot\sqrt[4]{97-x}\)의 값을 구하여라.
\begin{flushright}(20점)\end{flushright}
\end{problem}

\begin{solution}
    \setlength{\parindent}{0pt}
    주어진 식에서 다음과 같이 치환하자 \\
    $a=\sqrt[4]{x},\; b=\sqrt[4]{97-x}$
    \\\\
    문제의 조건은
    \[
    e_1 = a+b = 5
    \]
    이며, 구하는 값은 $e_2 = ab$이다.
    \\
    또한 $a^4+b^4=97$이 주어졌다.
    \[
    a^2+b^2 = e_1^2 - 2e_2 = 25 - 2e_2
    \]
    이고, 따라서
    \[
    a^4+b^4 = (a^2+b^2)^2 - 2(ab)^2 = (25-2e_2)^2 - 2e_2^2.
    \]
    
    주어진 조건 $a^4+b^4=97$을 대입하면
    \[
    (25-2e_2)^2 - 2e_2^2 = 97.
    \]
    
    이를 전개하면
    \[
    625 - 100e_2 + 4e_2^2 - 2e_2^2 = 97,
    \]
    \[
    2e_2^2 - 100e_2 + 528 = 0,
    \]
    \[
    e_2^2 - 50e_2 + 264 = 0.
    \]
    
    따라서
    \[
    e_2 = 44 \quad \text{또는} \quad e_2 = 6.
    \]
    
    그런데 $ab=e_2 \leq \dfrac{(a+b)^2}{4} = \dfrac{25}{4}=6.25$가 되어야 하므로 가능한 해는
    \[
    e_2 = 6.
    \]
    
\end{solution}
        
\begin{answer}
\hfill \boxed{6}
\end{answer}

\newpage

\begin{problem}
\(m^{3}+n^{3}+99mn=33^{3}\)을 만족시키는 양의 정수 \((m,n)\)의 순서쌍의 개수를 구하여라.
\begin{flushright}(20점)\end{flushright}
\end{problem}

   
\begin{solution}
\setlength{\parindent}{0pt}
\[
m^3+n^3+3mn(m+n)=(m+n)^3
\]
조건은 \(3mn(m+n)=99mn\)이므로 \(m+n=33\) \\
\\양의 정수 해는 \((m,n)=(1,32),(2,31),\ldots,(32,1)\)로 32개이다.
\end{solution}

\begin{answer}
\hfill \boxed{32}
\end{answer}

% =====================================
\newpage
\section{조합}

\begin{problem}
어느 부부가 아홉 쌍의 부부를 집으로 초대하여 파티를 열었다. 이 자리에 모인 열 쌍의 부부는 서로 아는 사이도 있고, 처음 만나는 사이도 있다. 이들 가운데 서로 알던 사람들은 악수를 하지 않았지만, 처음 만나는 사람들은 정중하게 악수를 한 번씩 나누었다. 저녁 식사가 끝나고 집 주인은 그 자리에 모인 19명(집 주인의 부인과 손님들)에게 오늘 모임에서 악수를 몇 번 하였는지 질문하였다. 놀랍게도 이들이 악수한 횟수는 모두 달랐다. 이때 집 주인의 부인은 악수를 몇 번 하였는지 구하시오.
\begin{flushright}(20점)\end{flushright}
\end{problem}


\begin{solution}
    \setlength{\parindent}{0pt}
    
    집주인을 제외한 19명의 악수 횟수는 가능한 값 전부인 \(0,1,2,\dots,18\)을 각각 한 번씩 차지한다.  
    부부는 서로 악수를 하지 않으므로 한 쌍의 악수 횟수 합은 항상 \(18\)이 된다.  
    따라서 \((18,0),(17,1),(16,2),\dots,(10,8),(9,9)\)의 10쌍이 형성된다.  
    집주인 부부는 \((9,9)\)에 해당하므로 집주인의 부인은 9회 악수했다.
    
    \begin{center}
    \begin{tikzpicture}[scale=1.0]
      \def\n{19}
      \foreach \k in {0,...,18}{
        \node[circle,draw,minimum size=6mm,inner sep=0pt] (v\k) at (90-\k*360/\n:3.0) {\small \k};
      }
      % 짝(pair) 표시: k 와 18-k 연결
      \draw[gray, dashed] (v0) -- (v18);
      \draw[gray, dashed] (v1) -- (v17);
      \draw[gray, dashed] (v2) -- (v16);
      \draw[gray, dashed] (v3) -- (v15);
      \draw[gray, dashed] (v4) -- (v14);
      \draw[gray, dashed] (v5) -- (v13);
      \draw[gray, dashed] (v6) -- (v12);
      \draw[gray, dashed] (v7) -- (v11);
      \draw[gray, dashed] (v8) -- (v10);
      % (9,9) 강조
      \node[draw=red,thick,circle,inner sep=3pt] at (v9) {};
      \node at (0,-3.9) {\small 악수 횟수 페어: 합이 항상 18. (9,9)가 집주인 부부};
    \end{tikzpicture}
    \end{center}
    \end{solution}
    

    
\begin{solution}
\setlength{\parindent}{0pt}
집 주인을 제외한 19명의 악수 횟수가 모두 다르다. 가능한 악수 횟수는 최소 0회에서 최대 18회이다. 따라서 19명이 0, 1, 2, \ldots, 18회를 각각 한 번씩 차지한다.

18회 악수한 사람은 본인의 배우자를 제외한 모든 사람과 악수했다. 따라서 0회 악수한 사람은 그 사람의 배우자이다. 마찬가지로 17회와 1회, 16회와 2회, \ldots가 각각 부부이다.

이러한 쌍은 (18, 0), (17, 1), (16, 2), \ldots, (10, 8), (9, 9)로 10쌍이다. 집 주인 부부가 (9, 9)에 해당하므로, 집 주인의 부인은 9회 악수했다.
\end{solution}

\begin{answer}
\hfill \boxed{9}
\end{answer}

\newpage

\begin{problem}
정팔각형의 변을 따라 움직이는 로봇이 있다. 이 로봇은 정팔각형의 한 변을 지나가는데 1분이 걸리며, 각 꼭짓점에서 가던 방향으로 계속 가거나 반대 방향으로 방향을 바꿀 수 있다. 이 로봇이 한 꼭짓점 \(A\)에서 출발하여 10분 동안 계속 움직여 다시 꼭짓점 \(A\)로 돌아오는 경우의 수를 구하여라.
\begin{flushright}(20점)\end{flushright}
\end{problem}

\begin{solution}
정팔각형에서 한 방향으로 가면 +1, 반대 방향으로 가면 -1이라 하자. 10분 후 출발점으로 돌아오려면 총 이동 거리가 8의 배수여야 한다.

10번 이동 중 \(m\)번 정방향, \(10-m\)번 역방향으로 가면 총 이동은 \(m-(10-m)=2m-10\)이다. 이 값이 \(\pm8\) 또는 0이어야 한다.

\begin{itemize}
\item \(2m-10=8 \Rightarrow m=9\): \(_{10}C_9=10\)
\item \(2m-10=0 \Rightarrow m=5\): \(_{10}C_5=252\)
\item \(2m-10=-8 \Rightarrow m=1\): \(_{10}C_1=10\)
\end{itemize}

따라서 총 경우의 수는 \(10+252+10=272\).
\end{solution}

\begin{answer}
\hfill \boxed{272}
\end{answer}

\newpage

\begin{problem}
여섯 쌍의 부부가 모임에 참가하였다. 사회자가 그 중 일곱 명을 뽑아 선물을 준다. 이때, 선물을 하나도 받지 못한 부부가 오직 한 쌍일 경우의 수를 구하여라.
\begin{flushright}(20점)\end{flushright}
\end{problem}

\begin{solution}
선물을 받지 못할 부부 한 쌍을 선택: \(_6C_1=6\).

나머지 5쌍(10명) 중 7명을 뽑되, 각 쌍에서 최소 한 명은 선택되어야 한다. 5쌍 중 3쌍에서 한 명씩만, 2쌍에서 두 명씩 선택한다.

\begin{itemize}
\item 한 명만 선택할 3쌍을 고름: \(_5C_3=10\)
\item 각 쌍에서 한 명을 고름: \(2^3=8\)
\end{itemize}

따라서 총 경우의 수는 \(6 \times 10 \times 8 = 480\).
\end{solution}

\begin{answer}
\hfill \boxed{480}
\end{answer}

\newpage

\begin{problem}
\(1,2,2,3,3,5,7,9\)의 숫자가 각각 하나씩 적힌 8장의 카드 중에서 2장 이상의 카드를 동시에 뽑을 때, 카드에 적힌 숫자를 모두 곱한 값이 될 수 있는 서로 다른 수의 개수를 구하여라.
\begin{flushright}(20점)\end{flushright}
\end{problem}

\begin{solution}
카드: \(1, 2, 2, 3, 3, 5, 7, 9\). 소인수분해하면 \(9=3^2\)이므로 가능한 곱은 \(2^a \cdot 3^b \cdot 5^c \cdot 7^d\) 형태이다.

\begin{itemize}
\item \(a \in \{0, 1, 2\}\): 3가지
\item \(b \in \{0, 1, 2, 3, 4\}\): 5가지 (3이 2개, 9=\(3^2\)가 1개)
\item \(c \in \{0, 1\}\): 2가지
\item \(d \in \{0, 1\}\): 2가지
\end{itemize}

총 \(3 \times 5 \times 2 \times 2 = 60\)가지. 단, 1만 선택하는 경우(카드 1장)는 제외되므로 \(60 - 1 = 59\).
\end{solution}

\begin{answer}
\hfill \boxed{59}
\end{answer}

\newpage

\begin{problem}
정사면체 \(ABCD\)의 6개 모서리 중에서 몇 개의 모서리를 골라 색을 칠한다. 이때 색을 칠한 모서리들을 따라 4개의 꼭짓점이 모두 연결되는 경우의 수를 구하여라.
\begin{flushright}(20점)\end{flushright}
\end{problem}


\begin{solution}
    \setlength{\parindent}{0pt}
    
    정사면체의 모서리는 6개다. 모서리 \(k\)개를 칠하는 모든 경우의 수는 \(_6C_k\)이다.  
    네 꼭짓점이 모두 연결되려면(스패닝 연결) 각 \(k\)에서 다음과 같이 분류된다.
    
    \textbf{(i) \(k=6\)}: 전부 칠함. 연결 1가지.  
    \[
    c_6=1
    \]
    
    \textbf{(ii) \(k=5\)}: 하나만 지움. 어떤 모서리를 지워도 여전히 연결.
    \[
    c_5=_6C_1=6
    \]
    
    \textbf{(iii) \(k=4\)}: 네 개를 칠함. 삼각형(한 면의 3모서리)만 칠하는 것은 3개라서 \(k=3\)에 해당하며, \(k=4\)에서는 그런 비연결이 불가능하다.
    즉 \(_6C_4\) 전부 연결.
    \[
    c_4=_6C_4=15
    \]
    
    \textbf{(iv) \(k=3\)}: 세 개를 칠함. 두 경우로 나뉜다.
    - 한 면의 3모서리를 모두 고른 경우(정삼각형): 한 꼭짓점이 빠져 \emph{연결 아님}. 이런 경우는 면의 개수만큼 \(4\)가지.
    - 그 외의 3개: 스패닝 트리로서 \emph{연결}. 전체 \(_6C_3=20\) 중 삼각형 4가지를 제외.
    \[
    c_3=20-4=16
    \]
    
    \textbf{(v) \(k\le 2\)}: 4개 꼭짓점을 모두 연결하려면 최소 3개 모서리가 필요.  
    \[
    c_2=c_1=c_0=0
    \]
    
    따라서 전체 연결 경우의 수 합은
    \[
    c_3+c_4+c_5+c_6=16+15+6+1=38.
    \]
    \end{solution}

    
\begin{solution}
정사면체는 4개 꼭짓점과 6개 모서리를 가진다. 모든 꼭짓점이 연결되려면 그래프가 연결되어야 한다.

전체 경우의 수: \(2^6 = 64\) (각 모서리를 칠하거나 안 칠하거나)

비연결 경우를 제외한다. 포함-배제 원리를 사용하면:
\begin{itemize}
\item 고립된 점이 1개 이상: 각 점에 연결된 3개 모서리가 모두 선택 안 됨
\item 2-2 분할: 두 쌍의 점들이 서로 연결되지 않음
\end{itemize}

정확한 계산 결과 비연결 경우는 26가지이다.

따라서 연결된 경우: \(64 - 26 = 38\).
\end{solution}

\begin{answer}
\hfill \boxed{38}
\end{answer}

\vspace{1cm}
\begin{center}
    \textit{Practice makes perfect!}
\end{center}

\end{document}